<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en">
<!--<![endif]-->

<head>
        <meta charset="utf-8">

        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <title>anduryl.ui.main &mdash; Anduryl 1.2 documentation</title>








        <script type="text/javascript" src="../../../_static/js/modernizr.min.js"></script>


        <script type="text/javascript" id="documentation_options" data-url_root="../../../"
                src="../../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../../_static/language_data.js"></script>

        <script type="text/javascript" src="../../../_static/js/theme.js"></script>




        <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
        <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
        <link rel="index" title="Index" href="../../../genindex.html" />
        <link rel="search" title="Search" href="../../../search.html" />
</head>

<body class="wy-body-for-nav">


        <div class="wy-grid-for-nav">

                <nav data-toggle="wy-nav-shift" class="wy-nav-side">
                        <div class="wy-side-scroll">
                                <div class="wy-side-nav-search">



                                        <a href="../../../index.html" class="icon icon-home"> Anduryl



                                        </a>







                                        <div role="search">
                                                <form id="rtd-search-form" class="wy-form" action="../../../search.html"
                                                        method="get">
                                                        <input type="text" name="q" placeholder="Search docs" />
                                                        <input type="hidden" name="check_keywords" value="yes" />
                                                        <input type="hidden" name="area" value="default" />
                                                </form>
                                        </div>


                                </div>

                                <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation"
                                        aria-label="main navigation">






                                        <p class="caption"><span class="caption-text">Contents:</span></p>
                                        <ul>
                                                <li class="toctree-l1"><a class="reference internal"
                                                                href="../../../quickstart.html">Quick start</a></li>
                                                <li class="toctree-l1"><a class="reference internal"
                                                                href="../../../code.html">Code documentation</a></li>
                                        </ul>



                                </div>
                        </div>
                </nav>

                <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">


                        <nav class="wy-nav-top" aria-label="top navigation">

                                <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
                                <a href="../../../index.html">Anduryl</a>

                        </nav>


                        <div class="wy-nav-content">

                                <div class="rst-content">

















                                        <div role="navigation" aria-label="breadcrumbs navigation">

                                                <ul class="wy-breadcrumbs">

                                                        <li><a href="../../../index.html">Docs</a> &raquo;</li>

                                                        <li><a href="../../index.html">Module code</a> &raquo;</li>

                                                        <li>anduryl.ui.main</li>


                                                        <li class="wy-breadcrumbs-aside">

                                                        </li>

                                                </ul>


                                                <hr />
                                        </div>
                                        <div role="main" class="document" itemscope="itemscope"
                                                itemtype="http://schema.org/Article">
                                                <div itemprop="articleBody">

                                                        <h1>Source code for anduryl.ui.main</h1>
                                                        <div class="highlight">
                                                                <pre>
<span></span><span class="c1"># -*- coding: utf-8 -*-</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Created on  : Tue Aug 22 17:02:55 2017</span>
<span class="sd">Author      : Guus Rongen, HKV Lijn in Water</span>
<span class="sd">Project     : PR3594.10.00</span>
<span class="sd">Description :</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="c1"># import logging</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">traceback</span>

<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">PyQt5</span> <span class="k">import</span> <span class="n">Qt</span><span class="p">,</span> <span class="n">QtCore</span><span class="p">,</span> <span class="n">QtGui</span><span class="p">,</span> <span class="n">QtWidgets</span>

<span class="kn">from</span> <span class="nn">anduryl</span> <span class="k">import</span> <span class="n">Project</span>
<span class="kn">from</span> <span class="nn">anduryl</span> <span class="k">import</span> <span class="n">io</span>
<span class="kn">from</span> <span class="nn">anduryl.ui</span> <span class="k">import</span> <span class="n">dialogs</span><span class="p">,</span> <span class="n">widgets</span>
<span class="kn">from</span> <span class="nn">anduryl.ui.assessments</span> <span class="k">import</span> <span class="n">AssessmentsWidget</span>
<span class="kn">from</span> <span class="nn">anduryl.ui.experts</span> <span class="k">import</span> <span class="n">ExpertsWidget</span>
<span class="kn">from</span> <span class="nn">anduryl.ui.items</span> <span class="k">import</span> <span class="n">ItemsWidget</span>
<span class="kn">from</span> <span class="nn">anduryl.ui.results</span> <span class="k">import</span> <span class="n">ResultsWidget</span>

<span class="c1"># logger = logging.getLogger(__name__)</span>


<div class="viewcode-block" id="MainWindow"><a class="viewcode-back" href="../../../ui/main.html#anduryl.ui.main.MainWindow">[docs]</a><span class="k">class</span> <span class="nc">MainWindow</span><span class="p">(</span><span class="n">QtWidgets</span><span class="o">.</span><span class="n">QMainWindow</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Main UI widget of Anduryl.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Constructer. Adds project and sets general settings.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">MainWindow</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">appsettings</span> <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QSettings</span><span class="p">(</span><span class="s2">&quot;Anduryl&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">setAcceptDrops</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s2">&quot;Anduryl&quot;</span><span class="p">)</span>

        <span class="c1"># Add a project</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">project</span> <span class="o">=</span> <span class="n">Project</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">profiling</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">setWindowIcon</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">style</span><span class="p">()</span><span class="o">.</span><span class="n">standardIcon</span><span class="p">(</span><span class="n">QtWidgets</span><span class="o">.</span><span class="n">QStyle</span><span class="o">.</span><span class="n">SP_DialogApplyButton</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">setCursor</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">ArrowCursor</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">bordercolor</span> <span class="o">=</span> <span class="s1">&#39;lightgrey&#39;</span>

        <span class="c1"># Construct user interface</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">init_ui</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">signals</span> <span class="o">=</span> <span class="n">Signals</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">project</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>

        <span class="k">def</span> <span class="nf">test_exception_hook</span><span class="p">(</span><span class="n">exctype</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">tback</span><span class="p">):</span>
            <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Function that catches errors and gives a Notification</span>
<span class="sd">            instead of a crashing application.</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="n">sys</span><span class="o">.</span><span class="n">__excepthook__</span><span class="p">(</span><span class="n">exctype</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">tback</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">setCursorNormal</span><span class="p">()</span>
            <span class="n">dialogs</span><span class="o">.</span><span class="n">NotificationDialog</span><span class="p">(</span>
                <span class="n">text</span><span class="o">=</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">traceback</span><span class="o">.</span><span class="n">format_exception_only</span><span class="p">(</span><span class="n">exctype</span><span class="p">,</span> <span class="n">value</span><span class="p">)),</span>
                <span class="n">severity</span><span class="o">=</span><span class="s1">&#39;critical&#39;</span><span class="p">,</span>
                <span class="n">details</span><span class="o">=</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">traceback</span><span class="o">.</span><span class="n">format_tb</span><span class="p">(</span><span class="n">tback</span><span class="p">))</span>
            <span class="p">)</span>

        <span class="n">sys</span><span class="o">.</span><span class="n">excepthook</span> <span class="o">=</span> <span class="n">test_exception_hook</span>

<div class="viewcode-block" id="MainWindow.update_projectname"><a class="viewcode-back" href="../../../ui/main.html#anduryl.ui.main.MainWindow.update_projectname">[docs]</a>    <span class="k">def</span> <span class="nf">update_projectname</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Updates window title after a project has been loaded</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        name : str, optional</span>
<span class="sd">            Project name, by default None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s2">&quot;Anduryl [*]&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">appsettings</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="s1">&#39;currentproject&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="n">f</span><span class="s2">&quot;Anduryl - </span><span class="si">{name}</span><span class="s2"> [*]&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">appsettings</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="s1">&#39;currentproject&#39;</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span></div>

<div class="viewcode-block" id="MainWindow.dropEvent"><a class="viewcode-back" href="../../../ui/main.html#anduryl.ui.main.MainWindow.dropEvent">[docs]</a>    <span class="k">def</span> <span class="nf">dropEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">e</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function to open a project by drawin the file inside the UI.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">fname</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="n">mimeData</span><span class="p">()</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;file:///&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">open_project</span><span class="p">(</span><span class="n">fname</span><span class="o">=</span><span class="n">fname</span><span class="p">)</span></div>

<div class="viewcode-block" id="MainWindow.dragEnterEvent"><a class="viewcode-back" href="../../../ui/main.html#anduryl.ui.main.MainWindow.dragEnterEvent">[docs]</a>    <span class="k">def</span> <span class="nf">dragEnterEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">e</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Method to accept a dragged file, based on the extension.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">e</span><span class="o">.</span><span class="n">mimeData</span><span class="p">()</span><span class="o">.</span><span class="n">hasText</span><span class="p">():</span>
            <span class="k">if</span> <span class="nb">any</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">mimeData</span><span class="p">()</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">ext</span><span class="p">)</span> <span class="k">for</span> <span class="n">ext</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;.rls&#39;</span><span class="p">,</span> <span class="s1">&#39;.dtt&#39;</span><span class="p">,</span> <span class="s1">&#39;.json&#39;</span><span class="p">]):</span>
                <span class="n">e</span><span class="o">.</span><span class="n">accept</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">e</span><span class="o">.</span><span class="n">ignore</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">e</span><span class="o">.</span><span class="n">ignore</span><span class="p">()</span></div>

<div class="viewcode-block" id="MainWindow.setCursorWait"><a class="viewcode-back" href="../../../ui/main.html#anduryl.ui.main.MainWindow.setCursorWait">[docs]</a>    <span class="k">def</span> <span class="nf">setCursorWait</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Changes cursor to waiting cursor.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">Qt</span><span class="o">.</span><span class="n">QApplication</span><span class="o">.</span><span class="n">setOverrideCursor</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">QCursor</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">WaitCursor</span><span class="p">))</span>
        <span class="n">Qt</span><span class="o">.</span><span class="n">QApplication</span><span class="o">.</span><span class="n">processEvents</span><span class="p">()</span></div>

<div class="viewcode-block" id="MainWindow.setCursorNormal"><a class="viewcode-back" href="../../../ui/main.html#anduryl.ui.main.MainWindow.setCursorNormal">[docs]</a>    <span class="k">def</span> <span class="nf">setCursorNormal</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Changes cursor (back) to normal cursor.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">Qt</span><span class="o">.</span><span class="n">QApplication</span><span class="o">.</span><span class="n">restoreOverrideCursor</span><span class="p">()</span></div>

<div class="viewcode-block" id="MainWindow.init_ui"><a class="viewcode-back" href="../../../ui/main.html#anduryl.ui.main.MainWindow.init_ui">[docs]</a>    <span class="k">def</span> <span class="nf">init_ui</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Construct UI, by splitting the main window and adding the</span>
<span class="sd">        different widgets with tables.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">mainsplitter</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QSplitter</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">Horizontal</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">setCentralWidget</span><span class="p">(</span><span class="n">mainsplitter</span><span class="p">)</span>

        <span class="c1"># Expert table</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">expertswidget</span> <span class="o">=</span> <span class="n">ExpertsWidget</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

        <span class="c1"># Items table</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">itemswidget</span> <span class="o">=</span> <span class="n">ItemsWidget</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">leftsplitter</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">LogoSplitter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">expertswidget</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">itemswidget</span><span class="p">,</span> <span class="s1">&#39;Experts&#39;</span><span class="p">,</span> <span class="s1">&#39;Items&#39;</span><span class="p">)</span>
        <span class="n">leftsplitter</span><span class="o">.</span><span class="n">setSizes</span><span class="p">([</span><span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">])</span>

        <span class="c1"># Items table</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assessmentswidget</span> <span class="o">=</span> <span class="n">AssessmentsWidget</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">resultswidget</span> <span class="o">=</span> <span class="n">ResultsWidget</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">rightsplitter</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">LogoSplitter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">assessmentswidget</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">resultswidget</span><span class="p">,</span> <span class="s1">&#39;Assessments&#39;</span><span class="p">,</span> <span class="s1">&#39;Results&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rightsplitter</span><span class="o">.</span><span class="n">setSizes</span><span class="p">([</span><span class="mi">200</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>

        <span class="n">mainsplitter</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">leftsplitter</span><span class="p">)</span>
        <span class="n">mainsplitter</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rightsplitter</span><span class="p">)</span>
        <span class="n">mainsplitter</span><span class="o">.</span><span class="n">setSizes</span><span class="p">([</span><span class="mi">550</span><span class="p">,</span> <span class="mi">550</span><span class="p">])</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">init_menubar</span><span class="p">()</span>

        <span class="n">mainsplitter</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span> <span class="s2">&quot;QSplitter::handle{background:white}&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rightsplitter</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;QSplitter::handle{background:white}&quot;</span><span class="p">)</span>
        <span class="n">leftsplitter</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span> <span class="s2">&quot;QSplitter::handle{background:white}&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">setGeometry</span><span class="p">(</span><span class="mi">400</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">1100</span><span class="p">,</span> <span class="mi">700</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">show</span><span class="p">()</span></div>

<div class="viewcode-block" id="MainWindow.getIcon"><a class="viewcode-back" href="../../../ui/main.html#anduryl.ui.main.MainWindow.getIcon">[docs]</a>    <span class="k">def</span> <span class="nf">getIcon</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">iconname</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Retrieve icon from data dir and set to GUI</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        iconname : str</span>
<span class="sd">            File name of the icon</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        QtGui.QIcon</span>
<span class="sd">            Qt object of icon</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">sys</span><span class="p">,</span> <span class="s1">&#39;frozen&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">):</span>
            <span class="c1"># If the application is run as a bundle, the pyInstaller bootloader</span>
            <span class="c1"># extends the sys module by a flag frozen=True and sets the app</span>
            <span class="c1"># path into variable _MEIPASS&#39;.</span>
            <span class="n">application_path</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">_MEIPASS</span>
            <span class="n">datadir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">application_path</span><span class="p">,</span> <span class="s1">&#39;data&#39;</span><span class="p">)</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="n">application_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="vm">__file__</span><span class="p">))</span>
            <span class="n">datadir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">application_path</span><span class="p">,</span> <span class="s1">&#39;..&#39;</span><span class="p">,</span> <span class="s1">&#39;data&#39;</span><span class="p">)</span>

        <span class="n">iconpath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">datadir</span><span class="p">,</span> <span class="n">iconname</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">iconpath</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">OSError</span><span class="p">(</span><span class="s1">&#39;Icon in path: &quot;</span><span class="si">{}</span><span class="s1">&quot; not found&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">iconpath</span><span class="p">))</span>

        <span class="k">return</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QIcon</span><span class="p">(</span><span class="n">iconpath</span><span class="p">)</span></div>

<div class="viewcode-block" id="MainWindow.init_menubar"><a class="viewcode-back" href="../../../ui/main.html#anduryl.ui.main.MainWindow.init_menubar">[docs]</a>    <span class="k">def</span> <span class="nf">init_menubar</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Constructs the menu bar.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">menubar</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">menuBar</span><span class="p">()</span>

        <span class="n">new_action</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QAction</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">style</span><span class="p">()</span><span class="o">.</span><span class="n">standardIcon</span><span class="p">(</span><span class="n">QtWidgets</span><span class="o">.</span><span class="n">QStyle</span><span class="o">.</span><span class="n">SP_FileIcon</span><span class="p">),</span> <span class="s1">&#39;New&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
        <span class="n">new_action</span><span class="o">.</span><span class="n">setShortcut</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QKeySequence</span><span class="o">.</span><span class="n">New</span><span class="p">)</span>
        <span class="n">new_action</span><span class="o">.</span><span class="n">setStatusTip</span><span class="p">(</span><span class="s1">&#39;Create a new project&#39;</span><span class="p">)</span>
        <span class="n">new_action</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">new_project</span><span class="p">)</span>

        <span class="n">openAction</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QAction</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">style</span><span class="p">()</span><span class="o">.</span><span class="n">standardIcon</span><span class="p">(</span><span class="n">QtWidgets</span><span class="o">.</span><span class="n">QStyle</span><span class="o">.</span><span class="n">SP_DirOpenIcon</span><span class="p">),</span> <span class="s1">&#39;Open&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
        <span class="n">openAction</span><span class="o">.</span><span class="n">setStatusTip</span><span class="p">(</span><span class="s1">&#39;Open project&#39;</span><span class="p">)</span>
        <span class="n">openAction</span><span class="o">.</span><span class="n">setShortcut</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QKeySequence</span><span class="o">.</span><span class="n">Open</span><span class="p">)</span>
        <span class="n">openAction</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">open_project</span><span class="p">)</span>

        <span class="n">saveAction</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QAction</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">style</span><span class="p">()</span><span class="o">.</span><span class="n">standardIcon</span><span class="p">(</span><span class="n">QtWidgets</span><span class="o">.</span><span class="n">QStyle</span><span class="o">.</span><span class="n">SP_DialogSaveButton</span><span class="p">),</span> <span class="s1">&#39;Save&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
        <span class="n">saveAction</span><span class="o">.</span><span class="n">setStatusTip</span><span class="p">(</span><span class="s1">&#39;Save project&#39;</span><span class="p">)</span>
        <span class="n">saveAction</span><span class="o">.</span><span class="n">setShortcut</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QKeySequence</span><span class="o">.</span><span class="n">Save</span><span class="p">)</span>
        <span class="n">saveAction</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">save_project</span><span class="p">)</span>

        <span class="n">saveAsAction</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QAction</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">style</span><span class="p">()</span><span class="o">.</span><span class="n">standardIcon</span><span class="p">(</span><span class="n">QtWidgets</span><span class="o">.</span><span class="n">QStyle</span><span class="o">.</span><span class="n">SP_DialogSaveButton</span><span class="p">),</span> <span class="s1">&#39;Save as&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
        <span class="n">saveAsAction</span><span class="o">.</span><span class="n">setStatusTip</span><span class="p">(</span><span class="s1">&#39;Save project as...&#39;</span><span class="p">)</span>
        <span class="n">saveAsAction</span><span class="o">.</span><span class="n">setShortcut</span><span class="p">(</span><span class="s1">&#39;Ctrl+Shift+S&#39;</span><span class="p">)</span>
        <span class="n">saveAsAction</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">save_project_as</span><span class="p">)</span>

        <span class="n">exitAction</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QAction</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">style</span><span class="p">()</span><span class="o">.</span><span class="n">standardIcon</span><span class="p">(</span><span class="n">QtWidgets</span><span class="o">.</span><span class="n">QStyle</span><span class="o">.</span><span class="n">SP_TitleBarCloseButton</span><span class="p">),</span> <span class="s1">&#39;Exit&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
        <span class="n">exitAction</span><span class="o">.</span><span class="n">setShortcut</span><span class="p">(</span><span class="s1">&#39;Ctrl+Q&#39;</span><span class="p">)</span>
        <span class="n">exitAction</span><span class="o">.</span><span class="n">setStatusTip</span><span class="p">(</span><span class="s1">&#39;Close Anduryl&#39;</span><span class="p">)</span>
        <span class="n">exitAction</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">exit</span><span class="p">)</span>

        <span class="n">file_menu</span> <span class="o">=</span> <span class="n">menubar</span><span class="o">.</span><span class="n">addMenu</span><span class="p">(</span><span class="s1">&#39;&amp;File&#39;</span><span class="p">)</span>
        <span class="n">file_menu</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="n">new_action</span><span class="p">)</span>
        <span class="n">file_menu</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="n">openAction</span><span class="p">)</span>
        <span class="n">file_menu</span><span class="o">.</span><span class="n">addSeparator</span><span class="p">()</span>
        <span class="n">file_menu</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="n">saveAction</span><span class="p">)</span>
        <span class="n">file_menu</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="n">saveAsAction</span><span class="p">)</span>
        <span class="n">file_menu</span><span class="o">.</span><span class="n">addSeparator</span><span class="p">()</span>
        <span class="n">file_menu</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="n">exitAction</span><span class="p">)</span>

        <span class="n">file_menu</span> <span class="o">=</span> <span class="n">menubar</span><span class="o">.</span><span class="n">addMenu</span><span class="p">(</span><span class="s1">&#39;&amp;Experts&#39;</span><span class="p">)</span>

        <span class="n">add_expert_action</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QAction</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QIcon</span><span class="p">(),</span> <span class="s1">&#39;Add an expert&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
        <span class="n">add_expert_action</span><span class="o">.</span><span class="n">setStatusTip</span><span class="p">(</span><span class="s1">&#39;Add an expert to the project.&#39;</span><span class="p">)</span>
        <span class="n">add_expert_action</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">expertswidget</span><span class="o">.</span><span class="n">add_expert</span><span class="p">)</span>
        <span class="n">file_menu</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="n">add_expert_action</span><span class="p">)</span>

        <span class="n">remove_expert_action</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QAction</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QIcon</span><span class="p">(),</span> <span class="s1">&#39;Remove selected expert&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
        <span class="n">remove_expert_action</span><span class="o">.</span><span class="n">setStatusTip</span><span class="p">(</span><span class="s1">&#39;Remove an expert from the project.&#39;</span><span class="p">)</span>
        <span class="n">remove_expert_action</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">expertswidget</span><span class="o">.</span><span class="n">remove_expert_clicked</span><span class="p">)</span>
        <span class="n">file_menu</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="n">remove_expert_action</span><span class="p">)</span>

        <span class="n">file_menu</span> <span class="o">=</span> <span class="n">menubar</span><span class="o">.</span><span class="n">addMenu</span><span class="p">(</span><span class="s1">&#39;&amp;Item&#39;</span><span class="p">)</span>

        <span class="n">add_item_action</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QAction</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QIcon</span><span class="p">(),</span> <span class="s1">&#39;Add item&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
        <span class="n">add_item_action</span><span class="o">.</span><span class="n">setStatusTip</span><span class="p">(</span><span class="s1">&#39;Add an item to the project.&#39;</span><span class="p">)</span>
        <span class="n">add_item_action</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">itemswidget</span><span class="o">.</span><span class="n">add_item</span><span class="p">)</span>
        <span class="n">file_menu</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="n">add_item_action</span><span class="p">)</span>

        <span class="n">remove_item_action</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QAction</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QIcon</span><span class="p">(),</span> <span class="s1">&#39;Remove selected item&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
        <span class="n">remove_item_action</span><span class="o">.</span><span class="n">setStatusTip</span><span class="p">(</span><span class="s1">&#39;Remove an item from the project.&#39;</span><span class="p">)</span>
        <span class="n">remove_item_action</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">itemswidget</span><span class="o">.</span><span class="n">remove_item</span><span class="p">)</span>
        <span class="n">file_menu</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="n">remove_item_action</span><span class="p">)</span>

        <span class="n">quantile_action</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QAction</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QIcon</span><span class="p">(),</span> <span class="s1">&#39;&amp;Quantiles&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
        <span class="n">quantile_action</span><span class="o">.</span><span class="n">setStatusTip</span><span class="p">(</span><span class="s1">&#39;Change quantiles&#39;</span><span class="p">)</span>
        <span class="n">quantile_action</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">assessmentswidget</span><span class="o">.</span><span class="n">change_quantiles</span><span class="p">)</span>
        <span class="n">file_menu</span> <span class="o">=</span> <span class="n">menubar</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="n">quantile_action</span><span class="p">)</span>

        <span class="n">calculate_action</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QAction</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QIcon</span><span class="p">(),</span> <span class="s1">&#39;&amp;Calculate&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
        <span class="n">calculate_action</span><span class="o">.</span><span class="n">setStatusTip</span><span class="p">(</span><span class="s1">&#39;Calculate decision maker or robustness table&#39;</span><span class="p">)</span>
        <span class="n">calculate_action</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">expertswidget</span><span class="o">.</span><span class="n">add_decision_maker</span><span class="p">)</span>
        <span class="n">file_menu</span> <span class="o">=</span> <span class="n">menubar</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="n">calculate_action</span><span class="p">)</span>

        <span class="n">export_menu</span> <span class="o">=</span> <span class="n">menubar</span><span class="o">.</span><span class="n">addMenu</span><span class="p">(</span><span class="s1">&#39;&amp;Export&#39;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">overview</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;experts&#39;</span><span class="p">,</span> <span class="s1">&#39;items&#39;</span><span class="p">,</span> <span class="s1">&#39;assessments&#39;</span><span class="p">]:</span>
            <span class="n">export_action</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QAction</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QIcon</span><span class="p">(),</span> <span class="n">overview</span><span class="o">.</span><span class="n">capitalize</span><span class="p">(),</span> <span class="bp">self</span><span class="p">)</span>
            <span class="n">export_action</span><span class="o">.</span><span class="n">setStatusTip</span><span class="p">(</span><span class="n">f</span><span class="s1">&#39;{overview.capitalize()}&#39;</span><span class="p">)</span>
            <span class="n">export_action</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">f</span><span class="s1">&#39;</span><span class="si">{overview}</span><span class="s1">widget&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">to_csv</span><span class="p">)</span>
            <span class="n">export_menu</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="n">export_action</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">result_menu</span> <span class="o">=</span> <span class="n">export_menu</span><span class="o">.</span><span class="n">addMenu</span><span class="p">(</span><span class="s1">&#39;Results&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">result_menu</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">subresultsmenu</span> <span class="o">=</span> <span class="p">{}</span></div>

<div class="viewcode-block" id="MainWindow.add_export_actions"><a class="viewcode-back" href="../../../ui/main.html#anduryl.ui.main.MainWindow.add_export_actions">[docs]</a>    <span class="k">def</span> <span class="nf">add_export_actions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">resultsoverview</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Method to add expert action when new results have been calculated.</span>
<span class="sd">        In the &#39;export&#39; menu the result button is enabled, and export</span>
<span class="sd">        options for the new results are added.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        resultsoverview : ResultOverview class</span>
<span class="sd">            Object with the results for a calculated decision maker</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">dm_id</span> <span class="o">=</span> <span class="n">resultsoverview</span><span class="o">.</span><span class="n">settings</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">subresultsmenu</span><span class="p">[</span><span class="n">dm_id</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">result_menu</span><span class="o">.</span><span class="n">addMenu</span><span class="p">(</span><span class="n">dm_id</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">result_menu</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        
        <span class="c1"># Add export Expert scores</span>
        <span class="n">export_scores_action</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QAction</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QIcon</span><span class="p">(),</span> <span class="s1">&#39;Expert scores&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
        <span class="n">export_scores_action</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">io</span><span class="o">.</span><span class="n">table_to_csv</span><span class="p">(</span><span class="n">resultsoverview</span><span class="o">.</span><span class="n">scores_model</span><span class="p">,</span> <span class="bp">self</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">subresultsmenu</span><span class="p">[</span><span class="n">dm_id</span><span class="p">]</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="n">export_scores_action</span><span class="p">)</span>

        <span class="c1"># Add export robustness</span>
        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;Items&#39;</span><span class="p">,</span> <span class="s1">&#39;Experts&#39;</span><span class="p">]:</span>
            <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">resultsoverview</span><span class="o">.</span><span class="n">robustness_model</span><span class="p">:</span>
                <span class="n">robustness_action</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QAction</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QIcon</span><span class="p">(),</span> <span class="n">f</span><span class="s1">&#39;Robustness per {key[:-1].lower()}&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
                <span class="n">robustness_action</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">io</span><span class="o">.</span><span class="n">table_to_csv</span><span class="p">(</span><span class="n">resultsoverview</span><span class="o">.</span><span class="n">robustness_model</span><span class="p">[</span><span class="n">key</span><span class="p">],</span> <span class="bp">self</span><span class="p">))</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">subresultsmenu</span><span class="p">[</span><span class="n">dm_id</span><span class="p">]</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="n">robustness_action</span><span class="p">)</span>

        <span class="c1"># Add export Expert CDF</span>
        <span class="k">def</span> <span class="nf">export_cdf</span><span class="p">():</span>
            <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Function to expert a decision makers CDF.</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="n">items</span> <span class="o">=</span> <span class="n">resultsoverview</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">ids</span>
            <span class="n">cdfs</span> <span class="o">=</span> <span class="n">resultsoverview</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">assessments</span><span class="o">.</span><span class="n">full_cdf</span><span class="p">[</span><span class="n">dm_id</span><span class="p">]</span>
            <span class="n">index</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">([[</span><span class="n">item</span><span class="p">]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">cdfs</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">item</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">items</span><span class="p">)],</span> <span class="n">axis</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">vstack</span><span class="p">([</span><span class="n">cdfs</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">items</span><span class="p">))])</span>

            <span class="n">options</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QFileDialog</span><span class="o">.</span><span class="n">Options</span><span class="p">()</span> <span class="o">|</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QFileDialog</span><span class="o">.</span><span class="n">DontUseNativeDialog</span>
            <span class="c1"># Set current dir</span>
            <span class="n">currentdir</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">appsettings</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="s1">&#39;currentdir&#39;</span><span class="p">,</span> <span class="s1">&#39;.&#39;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">)</span>
            <span class="n">path</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QFileDialog</span><span class="o">.</span><span class="n">getSaveFileName</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Anduryl - Save as CSV&#39;</span><span class="p">,</span> <span class="s1">&#39;.&#39;</span><span class="p">,</span> <span class="s2">&quot;CSV (*.csv)&quot;</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="n">options</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">path</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">None</span>

            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                <span class="n">text</span> <span class="o">=</span> <span class="s1">&#39;ItemId;Value;P(X&lt;x)</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">f</span><span class="s1">&#39;</span><span class="si">{idx}</span><span class="s1">;</span><span class="si">{vals[0]}</span><span class="s1">;</span><span class="si">{vals[1]}</span><span class="s1">&#39;</span> <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">vals</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">data</span><span class="p">)])</span>
                <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
                
        <span class="n">export_cdf_action</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QAction</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QIcon</span><span class="p">(),</span> <span class="s1">&#39;DM CDF&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
        <span class="n">export_cdf_action</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">export_cdf</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">subresultsmenu</span><span class="p">[</span><span class="n">dm_id</span><span class="p">]</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="n">export_cdf_action</span><span class="p">)</span></div>

<div class="viewcode-block" id="MainWindow.remove_export_actions"><a class="viewcode-back" href="../../../ui/main.html#anduryl.ui.main.MainWindow.remove_export_actions">[docs]</a>    <span class="k">def</span> <span class="nf">remove_export_actions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dm_id</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Method to remove the export actions from the menu after the results</span>
<span class="sd">        are deleted.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        dm_id : str</span>
<span class="sd">            ID of the decision maker to remove.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># TODO: remove actions too</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">subresultsmenu</span><span class="p">[</span><span class="n">dm_id</span><span class="p">]</span><span class="o">.</span><span class="n">deleteLater</span><span class="p">()</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">subresultsmenu</span><span class="p">[</span><span class="n">dm_id</span><span class="p">]</span>

        <span class="c1"># Disable results menu after all results have been removed</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">subresultsmenu</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">result_menu</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span></div>

<div class="viewcode-block" id="MainWindow.exit"><a class="viewcode-back" href="../../../ui/main.html#anduryl.ui.main.MainWindow.exit">[docs]</a>    <span class="k">def</span> <span class="nf">exit</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Method that passes to close event.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">closeEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span></div>

<div class="viewcode-block" id="MainWindow.closeEvent"><a class="viewcode-back" href="../../../ui/main.html#anduryl.ui.main.MainWindow.closeEvent">[docs]</a>    <span class="k">def</span> <span class="nf">closeEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Method called when application is closed. The method checks</span>
<span class="sd">        whether there are unsaved changes, and ask the user to save,</span>
<span class="sd">        discard or cancel.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">reply</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ok_to_continue</span><span class="p">(</span><span class="s1">&#39;Close project&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">reply</span> <span class="o">==</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">Cancel</span><span class="p">:</span>
            <span class="n">event</span><span class="o">.</span><span class="n">ignore</span><span class="p">()</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">reply</span> <span class="o">==</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">Save</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">save_project</span><span class="p">()</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">profiling</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">end_profiling</span><span class="p">()</span>
        <span class="n">event</span><span class="o">.</span><span class="n">accept</span><span class="p">()</span></div>
        
<div class="viewcode-block" id="MainWindow.start_profiling"><a class="viewcode-back" href="../../../ui/main.html#anduryl.ui.main.MainWindow.start_profiling">[docs]</a>    <span class="k">def</span> <span class="nf">start_profiling</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Start profiling the code performance.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">import</span> <span class="nn">cProfile</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">profiling</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pr</span> <span class="o">=</span> <span class="n">cProfile</span><span class="o">.</span><span class="n">Profile</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pr</span><span class="o">.</span><span class="n">enable</span><span class="p">()</span></div>

<div class="viewcode-block" id="MainWindow.end_profiling"><a class="viewcode-back" href="../../../ui/main.html#anduryl.ui.main.MainWindow.end_profiling">[docs]</a>    <span class="k">def</span> <span class="nf">end_profiling</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        End profiling the code performance, and write the</span>
<span class="sd">        results to a file.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">io</span> <span class="k">import</span> <span class="n">StringIO</span>
        <span class="kn">import</span> <span class="nn">pstats</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pr</span><span class="o">.</span><span class="n">disable</span><span class="p">()</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">StringIO</span><span class="p">()</span>
        <span class="n">sortby</span> <span class="o">=</span> <span class="s1">&#39;cumulative&#39;</span>
        <span class="n">ps</span> <span class="o">=</span> <span class="n">pstats</span><span class="o">.</span><span class="n">Stats</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pr</span><span class="p">,</span> <span class="n">stream</span><span class="o">=</span><span class="n">s</span><span class="p">)</span><span class="o">.</span><span class="n">sort_stats</span><span class="p">(</span><span class="n">sortby</span><span class="p">)</span>
        <span class="n">ps</span><span class="o">.</span><span class="n">print_stats</span><span class="p">()</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;profile.txt&#39;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">getvalue</span><span class="p">())</span></div>

<div class="viewcode-block" id="MainWindow.get_project_file"><a class="viewcode-back" href="../../../ui/main.html#anduryl.ui.main.MainWindow.get_project_file">[docs]</a>    <span class="k">def</span> <span class="nf">get_project_file</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Opens a dialog to select a project file to open.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Set open file dialog settings</span>
        <span class="n">options</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QFileDialog</span><span class="o">.</span><span class="n">Options</span><span class="p">()</span>
        <span class="n">options</span> <span class="o">|=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QFileDialog</span><span class="o">.</span><span class="n">DontUseNativeDialog</span>

        <span class="c1"># Set current dir</span>
        <span class="n">currentdir</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">appsettings</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="s1">&#39;currentdir&#39;</span><span class="p">,</span> <span class="s1">&#39;.&#39;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">)</span>

        <span class="c1"># Open dialog to select file</span>
        <span class="n">fname</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QFileDialog</span><span class="o">.</span><span class="n">getOpenFileName</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Anduryl - Open project&#39;</span><span class="p">,</span> <span class="n">currentdir</span><span class="p">,</span> <span class="s2">&quot;JSON (*.json);;Excalibur (*.dtt)&quot;</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="n">options</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">fname</span></div>

<div class="viewcode-block" id="MainWindow.ok_to_continue"><a class="viewcode-back" href="../../../ui/main.html#anduryl.ui.main.MainWindow.ok_to_continue">[docs]</a>    <span class="k">def</span> <span class="nf">ok_to_continue</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">title</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Asks the user whether results should be saved, discarded or the action cancelled.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">isWindowModified</span><span class="p">():</span>
            <span class="n">currentproject</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">appsettings</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="s1">&#39;currentproject&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">question</span><span class="p">(</span>
                <span class="bp">self</span><span class="p">,</span>
                <span class="n">f</span><span class="s2">&quot;Anduryl - </span><span class="si">{title}</span><span class="s2">&quot;</span><span class="p">,</span>
                <span class="n">f</span><span class="s2">&quot;Do you want to save changes you made to </span><span class="se">\&quot;</span><span class="si">{currentproject}</span><span class="se">\&quot;</span><span class="s2">?&quot;</span><span class="p">,</span>
                <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">Save</span> <span class="o">|</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">Discard</span> <span class="o">|</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">Cancel</span>
            <span class="p">)</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">Discard</span></div>

<div class="viewcode-block" id="MainWindow.save_project_as"><a class="viewcode-back" href="../../../ui/main.html#anduryl.ui.main.MainWindow.save_project_as">[docs]</a>    <span class="k">def</span> <span class="nf">save_project_as</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fname</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Asks the user for the file name to save the project to.</span>
<span class="sd">        If the file name is passed, the user is not asked the file</span>
<span class="sd">        and the project is saved directly.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        fname : str, optional</span>
<span class="sd">            File name, by default None</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="c1"># if fname is None:</span>
        <span class="c1"># Set open file dialog settings</span>
        <span class="n">options</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QFileDialog</span><span class="o">.</span><span class="n">Options</span><span class="p">()</span>
        <span class="n">options</span> <span class="o">|=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QFileDialog</span><span class="o">.</span><span class="n">DontUseNativeDialog</span>
        <span class="n">options</span> <span class="o">|=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QFileDialog</span><span class="o">.</span><span class="n">DontConfirmOverwrite</span>

        <span class="c1"># Set current dir</span>
        <span class="n">currentdir</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">appsettings</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="s1">&#39;currentdir&#39;</span><span class="p">,</span> <span class="s1">&#39;.&#39;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">)</span>

        <span class="c1"># Open dialog to select file</span>
        <span class="n">fname</span><span class="p">,</span> <span class="n">ext</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QFileDialog</span><span class="o">.</span><span class="n">getSaveFileName</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Anduryl - Save project&#39;</span><span class="p">,</span> <span class="n">currentdir</span><span class="p">,</span> <span class="s2">&quot;JSON (*.json);;Excalibur (*.dtt)&quot;</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="n">options</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">fname</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>

        <span class="c1"># Add extension if not given in file</span>
        <span class="k">for</span> <span class="n">end</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;.dtt&#39;</span><span class="p">,</span> <span class="s1">&#39;.json&#39;</span><span class="p">]:</span>
            <span class="k">if</span> <span class="n">end</span> <span class="ow">in</span> <span class="n">ext</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">fname</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">end</span><span class="p">):</span>
                <span class="n">fname</span> <span class="o">+=</span> <span class="n">end</span>

        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">fname</span><span class="p">):</span>
            <span class="n">reply</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="bp">self</span><span class="p">,</span>
                <span class="s2">&quot;Anduryl - Save project&quot;</span><span class="p">,</span>
                <span class="n">f</span><span class="s2">&quot;{os.path.split(fname)[-1]} already exists.</span><span class="se">\n</span><span class="s2">Do you want to overwrite it?&quot;</span><span class="p">,</span>
                <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">Yes</span> <span class="o">|</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">No</span>
            <span class="p">)</span>
            <span class="k">if</span> <span class="n">reply</span> <span class="o">==</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">No</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="s1">&#39;.dtt&#39;</span> <span class="ow">in</span> <span class="n">ext</span><span class="p">:</span>
            <span class="c1"># Check lengths of ids</span>
            <span class="k">if</span> <span class="nb">max</span><span class="p">([</span><span class="nb">len</span><span class="p">(</span><span class="n">exp_id</span><span class="p">)</span> <span class="k">for</span> <span class="n">exp_id</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">project</span><span class="o">.</span><span class="n">experts</span><span class="o">.</span><span class="n">ids</span><span class="p">])</span> <span class="o">&gt;</span> <span class="mi">8</span><span class="p">:</span>
                <span class="n">dialogs</span><span class="o">.</span><span class="n">NotificationDialog</span><span class="p">(</span><span class="s1">&#39;Some expert id</span><span class="se">\&#39;</span><span class="s1">s are longer than 8 characters. They will be shortened to 8 characters for compatibility with Excalibur. Check if the id</span><span class="se">\&#39;</span><span class="s1">s are still unique.&#39;</span><span class="p">)</span>
            <span class="k">if</span>  <span class="nb">max</span><span class="p">([</span><span class="nb">len</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span> <span class="k">for</span> <span class="n">item_id</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">project</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">ids</span><span class="p">])</span> <span class="o">&gt;</span> <span class="mi">14</span><span class="p">:</span>
                <span class="n">dialogs</span><span class="o">.</span><span class="n">NotificationDialog</span><span class="p">(</span><span class="s1">&#39;Some item id</span><span class="se">\&#39;</span><span class="s1">s are longer than 14 characters. They will be shortened to 14 characters for compatibility with Excalibur. Check if the id</span><span class="se">\&#39;</span><span class="s1">s are still unique.&#39;</span><span class="p">)</span>

        <span class="c1"># Save files</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_projectname</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">fname</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">project</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">to_file</span><span class="p">(</span><span class="n">fname</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setWindowModified</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span></div>

<div class="viewcode-block" id="MainWindow.save_project"><a class="viewcode-back" href="../../../ui/main.html#anduryl.ui.main.MainWindow.save_project">[docs]</a>    <span class="k">def</span> <span class="nf">save_project</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Save current project, checks if the file name is already known.</span>
<span class="sd">        If not, the save as function is called and the user is asked to</span>
<span class="sd">        pick a file.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="c1"># If no current project, save as...</span>
        <span class="n">currentproject</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">appsettings</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="s1">&#39;currentproject&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Current project&#39;</span><span class="p">,</span> <span class="n">currentproject</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">currentproject</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">save_project_as</span><span class="p">()</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># Get current directory</span>
            <span class="n">currentdir</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">appsettings</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="s1">&#39;currentdir&#39;</span><span class="p">,</span> <span class="s1">&#39;.&#39;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">)</span>

            <span class="c1"># Else, save files directly</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">project</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">to_file</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">currentdir</span><span class="p">,</span> <span class="n">currentproject</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">setWindowModified</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span></div>


<div class="viewcode-block" id="MainWindow.open_project"><a class="viewcode-back" href="../../../ui/main.html#anduryl.ui.main.MainWindow.open_project">[docs]</a>    <span class="k">def</span> <span class="nf">open_project</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">fname</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Method that loads project file and builds gui</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">fname</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">fname</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_project_file</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">fname</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">None</span>

        <span class="c1"># Open project</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">_about_to_be_changed</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">new_project</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setCursorWait</span><span class="p">()</span>

        <span class="c1"># Load from file</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">project</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">load_file</span><span class="p">(</span><span class="n">fname</span><span class="p">)</span>

        <span class="c1"># Add results if loaded from json</span>
        <span class="c1"># TODO: if adding this feature, make sure results are removed (cleared) before being added</span>
        <span class="c1"># if any(self.project.results):</span>
            <span class="c1"># for _, results in self.project.results.items():</span>
                <span class="c1"># self.resultswidget.add_results(results.settings)</span>
            <span class="c1"># Move splitter if results are hidden</span>
            <span class="c1"># if self.rightsplitter.sizes()[-1] == 0:</span>
                <span class="c1"># self.rightsplitter.setSizes([200, 400])</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">update_gui</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">update_color_range</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">_changed</span><span class="p">()</span>

        <span class="c1"># save current dir</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">appsettings</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="s1">&#39;currentdir&#39;</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">fname</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_projectname</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">fname</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setCursorNormal</span><span class="p">()</span></div>

<div class="viewcode-block" id="MainWindow.new_project"><a class="viewcode-back" href="../../../ui/main.html#anduryl.ui.main.MainWindow.new_project">[docs]</a>    <span class="k">def</span> <span class="nf">new_project</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Opens a new projcet. Checks if results should be saved. All</span>
<span class="sd">        items, experts and results are removed.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="c1"># Check if a project is already open</span>
        <span class="k">if</span> <span class="nb">any</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">project</span><span class="o">.</span><span class="n">experts</span><span class="o">.</span><span class="n">ids</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">any</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">project</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">ids</span><span class="p">):</span>
            <span class="n">reply</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ok_to_continue</span><span class="p">(</span><span class="s1">&#39;New project&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">reply</span> <span class="o">==</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">Cancel</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">None</span>
            <span class="k">elif</span> <span class="n">reply</span> <span class="o">==</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">Save</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">save_project</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">setCursorWait</span><span class="p">()</span>
        <span class="c1"># Remove all experts</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">reversed</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">project</span><span class="o">.</span><span class="n">experts</span><span class="o">.</span><span class="n">ids</span><span class="p">))):</span>
            <span class="c1"># If decision maker, also close the results tab</span>
            <span class="k">if</span> <span class="n">i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">project</span><span class="o">.</span><span class="n">experts</span><span class="o">.</span><span class="n">decision_makers</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">resultswidget</span><span class="o">.</span><span class="n">close_results</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">expert</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">project</span><span class="o">.</span><span class="n">experts</span><span class="o">.</span><span class="n">ids</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">expertswidget</span><span class="o">.</span><span class="n">remove_expert</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">project</span><span class="o">.</span><span class="n">experts</span><span class="o">.</span><span class="n">ids</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>

        <span class="c1"># Remove all items</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">reversed</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">project</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">ids</span><span class="p">))):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">itemswidget</span><span class="o">.</span><span class="n">remove_item</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">project</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">ids</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>

        <span class="c1"># Reset percentiles</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assessmentswidget</span><span class="o">.</span><span class="n">change_quantiles</span><span class="p">(</span><span class="n">newquantiles</span><span class="o">=</span><span class="p">[</span><span class="mf">0.05</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.95</span><span class="p">])</span>

        <span class="c1"># Update UI</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_projectname</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">update_gui</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setCursorNormal</span><span class="p">()</span></div></div>


<div class="viewcode-block" id="Signals"><a class="viewcode-back" href="../../../ui/main.html#anduryl.ui.main.Signals">[docs]</a><span class="k">class</span> <span class="nc">Signals</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Signal class. Contains all signals that are called</span>
<span class="sd">    to update the GUI after changes.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">project</span><span class="p">,</span> <span class="n">main</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Constructor</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        project : Project class</span>
<span class="sd">            Project class, is used for all the references to other objects</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">project</span> <span class="o">=</span> <span class="n">project</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main</span> <span class="o">=</span> <span class="n">main</span>

<div class="viewcode-block" id="Signals.update_color_range"><a class="viewcode-back" href="../../../ui/main.html#anduryl.ui.main.Signals.update_color_range">[docs]</a>    <span class="k">def</span> <span class="nf">update_color_range</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Updates the bounds of the arrays and colormaps</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_about_to_be_changed</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main</span><span class="o">.</span><span class="n">assessmentswidget</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">update_range</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main</span><span class="o">.</span><span class="n">assessmentswidget</span><span class="o">.</span><span class="n">update_label</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_changed</span><span class="p">()</span></div>

<div class="viewcode-block" id="Signals.selection_changes"><a class="viewcode-back" href="../../../ui/main.html#anduryl.ui.main.Signals.selection_changes">[docs]</a>    <span class="k">def</span> <span class="nf">selection_changes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Updates selection of array that is shown in table</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_about_to_be_changed</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main</span><span class="o">.</span><span class="n">assessmentswidget</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">selector</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_changed</span><span class="p">()</span></div>

    <span class="k">def</span> <span class="nf">_about_to_be_changed</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Signal that the table views are about to be changed</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main</span><span class="o">.</span><span class="n">expertswidget</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">layoutAboutToBeChanged</span><span class="o">.</span><span class="n">emit</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main</span><span class="o">.</span><span class="n">itemswidget</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">layoutAboutToBeChanged</span><span class="o">.</span><span class="n">emit</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main</span><span class="o">.</span><span class="n">assessmentswidget</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">layoutAboutToBeChanged</span><span class="o">.</span><span class="n">emit</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">_changed</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Signal that the table views are changed</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main</span><span class="o">.</span><span class="n">expertswidget</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">layoutChanged</span><span class="o">.</span><span class="n">emit</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main</span><span class="o">.</span><span class="n">itemswidget</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">layoutChanged</span><span class="o">.</span><span class="n">emit</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main</span><span class="o">.</span><span class="n">assessmentswidget</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">layoutChanged</span><span class="o">.</span><span class="n">emit</span><span class="p">()</span>

<div class="viewcode-block" id="Signals.update_gui"><a class="viewcode-back" href="../../../ui/main.html#anduryl.ui.main.Signals.update_gui">[docs]</a>    <span class="k">def</span> <span class="nf">update_gui</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Updates:</span>
<span class="sd">        - Tables (refresh view)</span>
<span class="sd">        - Comboboxes</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_about_to_be_changed</span><span class="p">()</span>
        <span class="c1"># Update combobox items</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main</span><span class="o">.</span><span class="n">assessmentswidget</span><span class="o">.</span><span class="n">update_comboboxes</span><span class="p">()</span>

        <span class="c1"># Updates dataselection</span>
        <span class="n">expidx</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">main</span><span class="o">.</span><span class="n">assessmentswidget</span><span class="o">.</span><span class="n">expert_cbox</span><span class="o">.</span><span class="n">currentIndex</span><span class="p">()</span>
        <span class="n">itemidx</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">main</span><span class="o">.</span><span class="n">assessmentswidget</span><span class="o">.</span><span class="n">item_cbox</span><span class="o">.</span><span class="n">currentIndex</span><span class="p">()</span> 
        <span class="k">if</span> <span class="n">expidx</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">main</span><span class="o">.</span><span class="n">assessmentswidget</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">selector</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">dim</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">expidx</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">itemidx</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">main</span><span class="o">.</span><span class="n">assessmentswidget</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">selector</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">dim</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">itemidx</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">main</span><span class="o">.</span><span class="n">assessmentswidget</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">selector</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
        
        
        <span class="bp">self</span><span class="o">.</span><span class="n">_changed</span><span class="p">()</span></div>

<div class="viewcode-block" id="Signals.update_headers"><a class="viewcode-back" href="../../../ui/main.html#anduryl.ui.main.Signals.update_headers">[docs]</a>    <span class="k">def</span> <span class="nf">update_headers</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Updates:</span>
<span class="sd">        - Tables (refresh view)</span>
<span class="sd">        - Comboboxes</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_about_to_be_changed</span><span class="p">()</span>
        <span class="n">table</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">main</span><span class="o">.</span><span class="n">assessmentswidget</span><span class="o">.</span><span class="n">table</span>
        <span class="n">table</span><span class="o">.</span><span class="n">horizontalHeader</span><span class="p">()</span><span class="o">.</span><span class="n">setSectionResizeMode</span><span class="p">(</span><span class="n">QtWidgets</span><span class="o">.</span><span class="n">QHeaderView</span><span class="o">.</span><span class="n">Stretch</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">):</span>
            <span class="n">table</span><span class="o">.</span><span class="n">horizontalHeader</span><span class="p">()</span><span class="o">.</span><span class="n">setSectionResizeMode</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QHeaderView</span><span class="o">.</span><span class="n">Fixed</span><span class="p">)</span>
            <span class="n">table</span><span class="o">.</span><span class="n">setColumnWidth</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_changed</span><span class="p">()</span></div>

<div class="viewcode-block" id="Signals.update_ids"><a class="viewcode-back" href="../../../ui/main.html#anduryl.ui.main.Signals.update_ids">[docs]</a>    <span class="k">def</span> <span class="nf">update_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Updates the combobox id&#39;s</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_about_to_be_changed</span><span class="p">()</span>
        <span class="c1"># Update combobox items</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main</span><span class="o">.</span><span class="n">assessmentswidget</span><span class="o">.</span><span class="n">change_combobox_ids</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_changed</span><span class="p">()</span></div></div>
</pre>
                                                        </div>

                                                </div>

                                        </div>
                                        <footer>


                                                <hr />

                                                <div role="contentinfo">
                                                        <p>
                                                                &copy; Copyright 2020, Guus Rongen

                                                        </p>
                                                </div>
                                                Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a
                                                        href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
                                                provided by <a href="https://readthedocs.org">Read the Docs</a>.

                                        </footer>

                                </div>
                        </div>

                </section>

        </div>



        <script type="text/javascript">
                jQuery(function () {
                        SphinxRtdTheme.Navigation.enable(true);
                });
        </script>






</body>

</html>